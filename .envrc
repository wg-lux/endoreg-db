# Source ENV_PATH if explicitly set and file exists
if [ -n "${ENV_PATH:-}" ] && [ -f "${ENV_PATH}" ]; then
  log_status "Sourcing environment from ENV_PATH: ${ENV_PATH}"
  source_env "${ENV_PATH}"
else
  # DEFAULT SHOULD BE THE CURRENT DIRECTORY AS WE INTRODUCE UNEXPECTED BEHAVIOR
  # OTHERWISE. IF YOU WANT TO SOURCE FROM SOMEWHERE ELSE, SET ENV_PATH
  if [ -f ".env" ]; then # .env in the current directory (endoreg-db/.env)
    log_status "Sourcing environment from current: ./.env"
    source_env .env # This will override/add to what was sourced from ../.env
  fi
fi

# e.g.:

#  direnv fetchurl "https://raw.githubusercontent.com/cachix/devenv/v1.6.1/devenv/direnvrc" 

# Original devenv direnvrc sourcing
source_url "https://raw.githubusercontent.com/cachix/devenv/v1.6.1/devenv/direnvrc" "sha256-LzXLAtBt0TZW0vgIZnHwOuKzQ74cwVMVYLpfi5FmVT8="
use devenv
